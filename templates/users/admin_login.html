{% extends 'users/base.html' %}

{% block title %}Admin Login{% endblock title %}

{% block content %}
<div class="card shadow-lg mx-auto mt-5" style="max-width: 26rem">
  <div class="card-body p-4">
    <div class="text-center mb-4">
      <i class="bi bi-shield-check" style="font-size: 3rem; color: #0d6efd;"></i>
      <h1 class="fs-4 card-title fw-bold mb-2">Admin Login</h1>
      <p class="text-muted small">Hospital Management System</p>
    </div>

    <form
      method="POST"
      class="needs-validation"
      novalidate=""
      autocomplete="off"
    >
      {% csrf_token %}
      
      {% if messages %}
        {% for message in messages %}
          {% if 'success' in message.tags %}
            <div class="alert alert-success alert-dismissible fade show mt-3" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% else %}
            <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endif %}
        {% endfor %}
      {% endif %}

      <div class="mb-3">
        <label class="mb-2 text-muted" for="username">
          <i class="bi bi-person"></i> Username or Employee ID
        </label>
        <input
          id="username"
          type="text"
          class="form-control"
          name="username"
          value=""
          required
          autofocus
          placeholder="Enter your username or employee ID"
        />
        <div class="invalid-feedback">Username is required</div>
      </div>

      <div class="mb-3">
        <div class="mb-2 w-100">
          <label class="text-muted" for="password">
            <i class="bi bi-lock"></i> Password
          </label>
          <a href="{% url 'password-reset' %}" class="float-end text-primary">
            Forgot Password?
          </a>
        </div>

        <input
          id="password"
          type="password"
          class="form-control"
          name="password"
          required
          placeholder="Enter your password"
        />
        <div class="invalid-feedback">Password is required</div>
      </div>

      <div class="d-flex align-items-center">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="remember">
          <label class="form-check-label text-muted small" for="remember">
            Remember me
          </label>
        </div>

        <button
          type="submit"
          class="btn btn-primary ms-auto px-4"
          style="background-color: #0d6efd;"
        >
          <i class="bi bi-box-arrow-in-right"></i> Login
        </button>
      </div>
    </form>
  </div>
  
  <div class="card-footer py-3 border-0 bg-light">
    <div class="text-center">
      <small class="text-muted">Need admin access?</small><br>
      <a href="{% url 'register_admin' %}" class="text-primary small">
        <i class="bi bi-person-plus"></i> Request Admin Account
      </a>
    </div>
    <div class="text-center mt-2">
      <a href="{% url 'login' %}" class="text-muted small">
        <i class="bi bi-arrow-left"></i> Back to User Login
      </a>
    </div>
  </div>
</div>

<style>
  .card {
    border: none;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
  }
  
  .form-control:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
  }
  
  .btn-primary {
    border: none;
    transition: all 0.3s ease;
  }
  
  .btn-primary:hover {
    background-color: #0b5ed7 !important;
    transform: translateY(-1px);
  }
</style>

{% endblock content %}